(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{36:function(e,t,a){e.exports=a(66)},57:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),c=a(7),i=a(1),s=a(2),u=a(4),m=a(3),p=a(5),d=a(9),h=a.n(d),g=new(function(){function e(){Object(i.a)(this,e),this.auth=h.a.create({baseURL:"https://backlog-quest.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password,n=e.platforms;return this.auth.post("/auth/signup",{username:t,password:a,platforms:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),f=r.a.createContext(),b=f.Consumer,v=f.Provider,E=function(e){return function(t){function a(){return Object(i.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(b,null,(function(a){var n=a.login,o=a.signup,l=a.logout,c=a.user,i=a.isLoggedIn;return r.a.createElement(e,Object.assign({user:c,isLoggedIn:i,login:n,signup:o,logout:l},t.props))}))}}]),a}(n.Component)},y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,user:null,isLoading:!0},a.signup=function(e,t,n){g.signup({username:e,password:t,platforms:n}).then((function(e){return a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.login=function(e,t){g.login({username:e,password:t}).then((function(e){return a.setState({isLoggedIn:!0,user:e})})).catch((function(e){return console.log(e)}))},a.logout=function(){g.logout().then((function(){return a.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.me().then((function(t){return e.setState({isLoggedIn:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,user:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedIn,n=e.user,o=this.login,l=this.logout,c=this.signup;return r.a.createElement(v,{value:{isLoading:t,isLoggedIn:a,user:n,login:o,logout:l,signup:c}},this.props.children)}}]),t}(r.a.Component),k=(a(57),a(15)),O=E(function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout,n=e.isLoggedIn;return r.a.createElement("nav",{className:"navbar"},r.a.createElement(c.b,{to:"/",id:"home-btn"},r.a.createElement("h4",null,"Home")),n?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"username: ",t.username),r.a.createElement("button",{onClick:a},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/login"}," ",r.a.createElement("button",{className:"navbar-button"},"Login")," "),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/signup"}," ",r.a.createElement("button",{className:"navbar-button"},"Sign Up")," ")))}}]),t}(n.Component));var j=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement(c.b,{to:"/backlog"},r.a.createElement("h4",null,"backlog")))},C=a(14),P=E(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",platforms:[]},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,o=t.platforms;a.props.signup(n,r,o)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.togglePlatform=function(e){e.preventDefault();var t=e.target.name,n=a.state.platforms;n.includes(t)?n.splice(n.indexOf(t),1):n.push(t),a.setState({platforms:n}),console.log(a.state.platforms)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.togglePlatform,name:"Netflix"},"Netflix"),r.a.createElement("button",{onClick:this.togglePlatform,name:"Amazon Prime"},"Amazon Prime"),r.a.createElement("button",{onClick:this.togglePlatform,name:"Disney+"},"Disney+"),r.a.createElement("button",{onClick:this.togglePlatform,name:"HBO Now"},"HBO Now"),r.a.createElement("button",{onClick:this.togglePlatform,name:"Plex"},"Plex"),r.a.createElement("button",{onClick:this.togglePlatform,name:"Other"},"Other"),r.a.createElement("ul",null,r.a.createElement("p",null,this.state.platforms)),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?"),r.a.createElement(c.b,{to:"/login"}," Login"))}}]),t}(n.Component)),w=E(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;a.props.login(n,r)},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(n.Component)),M=a(35),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedPlatform:"",toogleInfo:!1},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.props.updatePlatformProp(n,r)},a.showAdditionalInfo=function(){var e;console.log("showInfo working"),e=!1===a.state.toogleInfo,a.setState({toogleInfo:e})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log("toogleInfo",this.state.toogleInfo),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.showAdditionalInfo},r.a.createElement("b",null,this.props.eachMediaProp.title)," in"," ",r.a.createElement("b",null,this.props.eachMediaProp.platform)),r.a.createElement("br",null),this.state.toogleInfo?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.props.deleteMediaProp(e.props.eachMediaProp._id)}},"delete"),r.a.createElement("label",null,"Update Platform"),r.a.createElement("select",{id:this.props.eachMediaProp._id,onChange:this.handleChange,name:"platforms",value:this.props.eachMediaProp.platform},this.props.userProp.platforms.map((function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("button",{onClick:function(){return e.props.toggleDoneProp(e.props.eachMediaProp._id,e.props.eachMediaProp.done)}},"done")):null)}}]),t}(n.Component),L=E(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={media:[],filteredMedia:[],randomClick:!1,previousFilteredMedia:[],isLoading:!0,filteredType:"Film"},a.getAllBacklog=function(){h.a.get("".concat("https://backlog-quest.herokuapp.com","/api/backlog"),{withCredentials:!0}).then((function(e){var t=e.data.filter((function(e){return e.type===a.state.filteredType}));a.setState({media:e.data,filteredMedia:t,previousFilteredMedia:t,randomClick:!1,isLoading:!1})}))},a.filterMedia=function(e){var t=Object(M.a)(a.state.media).filter((function(t){return t.type===e.target.name}));a.setState({filteredMedia:t,previousFilteredMedia:t,randomClick:!1,filteredType:e.target.name})},a.randomMedia=function(){if(!1===a.state.randomClick){var e=a.state.filteredMedia,t=Math.floor(Math.random()*e.length),n=e.filter((function(a){return a._id===e[t]._id}));a.setState({filteredMedia:n,randomClick:!0})}else!0===a.state.randomClick&&a.setState({filteredMedia:a.state.previousFilteredMedia,randomClick:!1})},a.updatePlatform=function(e,t){h.a.put("".concat("https://backlog-quest.herokuapp.com","/api/media/").concat(e),{platform:t},{withCredentials:!0}).then((function(){return a.getAllBacklog()})).catch((function(e){return console.log(e)}))},a.deleteMedia=function(e){h.a.delete("".concat("https://backlog-quest.herokuapp.com","/api/media/").concat(e),{withCredentials:!0}).then((function(){return a.getAllBacklog()})).catch((function(e){return console.log(e)}))},a.toggleDone=function(e,t){var n;n=!t,h.a.put("".concat("https://backlog-quest.herokuapp.com","/api/media/").concat(e),{done:n},{withCredentials:!0}).then((function(){a.getAllBacklog()})).catch((function(e){return console.log(e)}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAllBacklog()}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredMedia,n=t.isLoading;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.filterMedia,name:"Series"},"Series"),r.a.createElement("button",{onClick:this.filterMedia,name:"Film"},"Films")),r.a.createElement("h1",null,"Backlog"),r.a.createElement("ul",null,n?null:a.map((function(t){return r.a.createElement("li",null,r.a.createElement(S,{eachMediaProp:t,userProp:e.props.user,updatePlatformProp:e.updatePlatform,deleteMediaProp:e.deleteMedia,toggleDoneProp:e.toggleDone}))}))),r.a.createElement(c.b,{to:"/add/films"},r.a.createElement("p",null,"Add")),r.a.createElement("button",{onClick:this.randomMedia},"Random"),r.a.createElement(c.b,{to:"/profile"},r.a.createElement("p",null,"Profile")))}}]),t}(n.Component)),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedResult:a.props.selectedResultProp,selectedPlatform:"",selectedMediaType:a.props.searchTypeProp,availablePlatforms:a.props.userProp.platforms},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r)),console.log(r)},a.addResult=function(e,t,n){if(e.preventDefault(),"Film"===a.state.selectedMediaType){var r=t.title,o=t.vote_average,l=t.overview,c=t.release_date;h.a.post("".concat("https://backlog-quest.herokuapp.com","/api/add"),{title:r,type:a.state.selectedMediaType,done:!1,platform:a.state.selectedPlatform,image:n,ranking:o,description:l,releaseDate:c},{withCredentials:!0}).then((function(e){return console.log("Film created:",e)})).catch((function(e){return console.log(e)}))}else if("Series"===a.state.selectedMediaType){var i=t.name,s=t.vote_average,u=t.overview,m=t.first_air_date;h.a.post("".concat("https://backlog-quest.herokuapp.com","/api/add"),{title:i,type:a.state.selectedMediaType,done:!1,platform:a.state.selectedPlatform,image:n,ranking:s,description:u,releaseDate:m},{withCredentials:!0}).then((function(e){return console.log("Film created:",e)})).catch((function(e){return console.log(e)}))}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selectedResult,n=t.selectedPlatform,o=t.availablePlatforms,l="https://image.tmdb.org/t/p/w185_and_h278_bestv2/"+a.poster_path;return r.a.createElement("li",null,a.title,r.a.createElement("img",{src:l,alt:"poster"}),r.a.createElement("select",{id:a.title,name:"selectedPlatform",value:n,onChange:this.handleChange},r.a.createElement("option",{value:"",disabled:!0,selected:!0},"Select your option"),o.map((function(e){return r.a.createElement("option",{value:e},e)}))),r.a.createElement("button",{onClick:function(t){return e.addResult(t,a,l)}},"Add to Backlog"))}}]),t}(n.Component),F=E(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchQuery:"",searchResults:[],searchType:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.searchQuery,r="";r="Film"===t.searchType?"movie":"tv",a.setState({searchResults:[]}),h()({method:"GET",url:"https://api.themoviedb.org/3/search/".concat(r,"?api_key=").concat("cbf88d86380cb31e2900a0ebd7ca3ef2","&query=").concat(n,"&page=1")}).then((function(e){console.log(e.data.results),a.setState({searchResults:e.data.results})})).catch((function(e){return console.log(e)}))},a.selectMediaType=function(e){var t=e.target.name;a.setState({searchResults:[],searchType:t,searchQuery:""})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.searchQuery,n=t.searchResults,o=t.searchType;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.selectMediaType,name:"Series"},"Series"),r.a.createElement("button",{onClick:this.selectMediaType,name:"Film"},"Films")),""===o?null:r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"text",name:"searchQuery",value:a,onChange:this.handleChange,placeholder:o}),r.a.createElement("input",{type:"submit",value:"Search"})),r.a.createElement("div",null,r.a.createElement("ul",null,n.map((function(t){return r.a.createElement(I,{selectedResultProp:t,searchTypeProp:o,userProp:e.props.user})}))),r.a.createElement(c.b,{to:"/backlog"},r.a.createElement("h4",null,"Back"))))}}]),t}(n.Component)),A=a(17);var T=E((function(e){var t=e.component,a=e.isLoggedIn,n=Object(A.a)(e,["component","isLoggedIn"]);return(r.a.createElement(k.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(k.a,{to:"/backlog"}):a?void 0:r.a.createElement(t,e)}})))}));var x=E((function(e){var t=e.component,a=e.isLoggedIn,n=Object(A.a)(e,["component","isLoggedIn"]);return r.a.createElement(k.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):a?void 0:r.a.createElement(k.a,{to:"/login"})}}))})),D=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(O,null),r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/",component:j}),r.a.createElement(T,{exact:!0,path:"/signup",component:P}),r.a.createElement(T,{exact:!0,path:"/login",component:w}),r.a.createElement(x,{exact:!0,path:"/backlog",component:L}),r.a.createElement(x,{exact:!0,path:"/add/films",component:F})))}}]),t}(n.Component);a(63).config(),l.a.render(r.a.createElement(c.a,null,r.a.createElement(y,null,r.a.createElement(D,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.de8d69fb.chunk.js.map